// ═══════════════════════════════════════════════════════
// METRICS - СИСТЕМА МЕТРИК УСТРОЙСТВ И КОМПОНЕНТОВ
// ═══════════════════════════════════════════════════════
// Файл: /Users/a00/mysterymeet/mobile/src/theme/metrics.ts
// 
// Что здесь:
// 1. device - метрики устройства и платформы
// 2. video - настройки видео компонентов
// 3. components - стандартизированные размеры компонентов
// 
// Особенности:
// - Все размеры основаны на 4px системе
// - Учет платформенных особенностей (iOS/Android)
// - Адаптация под разные размеры устройств
// ═══════════════════════════════════════════════════════

import { Dimensions, Platform, StatusBar } from 'react-native';

const { width, height } = Dimensions.get('window');

// ============================================
// DEVICE - МЕТРИКИ УСТРОЙСТВА И ПЛАТФОРМЫ
// ============================================

export const device = {
  // ============================================
  // SCREEN - РАЗМЕРЫ ЭКРАНА
  // ============================================
  screen: {
    // Полная ширина экрана устройства
    width,
    // Полная высота экрана устройства
    height,
    // Ширина с учетом безопасных зон (боковые отступы)
    contentWidth: width - 32, // 16px с каждой стороны
  },

  // ============================================
  // DEVICE TYPE - ТИП УСТРОЙСТВА ПО РАЗМЕРАМ
  // ============================================
  isSmallDevice: width < 375,    // iPhone SE, маленькие Android
  isMediumDevice: width >= 375 && width <= 414, // Стандартные iPhone
  isLargeDevice: width > 414,    // iPhone Max, крупные Android
  isTablet: width >= 768,        // iPad и планшеты

  // ============================================
  // PLATFORM - ПЛАТФОРМЕННЫЕ КОНСТАНТЫ
  // ============================================
  platform: Platform.OS,
  isIOS: Platform.OS === 'ios',
  isAndroid: Platform.OS === 'android',
  
  // ============================================
  // STATUS BAR - ВЫСОТА СТАТУС БАРА
  // ============================================
  statusBarHeight: StatusBar.currentHeight || (Platform.OS === 'ios' ? 44 : 24),
};

// ============================================
// VIDEO - НАСТРОЙКИ ВИДЕО КОМПОНЕНТОВ
// ============================================

export const video = {
  // ============================================
  // GRADIENT - НАСТРОЙКИ ГРАДИЕНТОВ
  // ============================================
  gradient: {
    // Прозрачность градиента для светлой темы
    lightOpacity: 0.6,
    // Прозрачность градиента для темной темы (немного больше)
    darkOpacity: 0.7,
  },
  
  // ============================================
  // PLAYER - НАСТРОЙКИ ВИДЕО ПЛЕЕРА
  // ============================================
  player: {
    // Режим полноэкранного воспроизведения
    fullScreen: true,
    // Соотношение сторон видео (16:9 стандарт)
    aspectRatio: 16 / 9,
    // Высота миниатюры видео
    thumbnailHeight: 200,
  },
};

// ============================================
// COMPONENTS - СТАНДАРТИЗИРОВАННЫЕ РАЗМЕРЫ КОМПОНЕНТОВ
// ============================================

export const components = {
  // ============================================
  // BUTTON - РАЗМЕРЫ КНОПОК
  // ============================================
  button: {
    standard: { // ✅ ДОБАВИЛ standard объект
      height: 48,
      paddingHorizontal: 16,
    },
    // Стандартная высота кнопки (основные действия)
    height: 48,
    // Маленькая кнопка (второстепенные действия)
    small: {
      height: 36,
      paddingHorizontal: 12,
    },
    // Большая кнопка (главные действия, CTA)
    large: {
      height: 56,
      paddingHorizontal: 20,
    },
    // Радиус скругления кнопок
    borderRadius: 12,
  },

  // ============================================
  // INPUT - РАЗМЕРЫ ПОЛЕЙ ВВОДА
  // ============================================
  input: {
    // Стандартная высота поля ввода
    height: 48,
    // Высота многострочного поля ввода
    multilineHeight: 120,
    // Боковые отступы внутри поля
    paddingHorizontal: 16,
    // Радиус скругления поля
    borderRadius: 12,
  },

  // ============================================
  // TAB BAR - РАЗМЕРЫ НИЖНЕЙ НАВИГАЦИИ
  // ============================================
  tabBar: {
    // Высота с учетом платформенных особенностей
    height: Platform.select({
      ios: 83,  // С учетом безопасной зоны на iOS
      android: 64,
    }),
    // Высота без учета безопасной зоны
    contentHeight: 56,
    // Размер иконок в таб-баре
    iconSize: 24,
  },

  // ============================================
  // CARD - РАЗМЕРЫ КАРТОЧЕК
  // ============================================
  card: {
    // Стандартная высота карточки
    standardHeight: 120,
    // Высота большой карточки
    largeHeight: 200,
    // Радиус скругления карточек
    borderRadius: 16,
  },

  // ============================================
  // AVATAR - РАЗМЕРЫ АВАТАРОВ
  // ============================================
  avatar: {
    // Маленький аватар (в списках, комментариях)
    small: 32,
    // Стандартный аватар (в профиле, карточках)
    standard: 48,
    // Большой аватар (главный аватар профиля)
    large: 80,
    // Огромный аватар (на экране профиля)
    xlarge: 120,
  },

  // ============================================
  // ICON - РАЗМЕРЫ ИКОНОК (дублирует spacing.ts для удобства)
  // ============================================
  icon: {
    // Маленькие иконки (в тексте, деталях)
    small: 16,
    // Стандартные иконки (основной интерфейс)
    standard: 24,
    // Большие иконки (акценты, главные действия)
    large: 32,
    // Огромные иконки (декоративные, иллюстрации)
    xlarge: 48,
  },
};

// ============================================
// DEFAULT EXPORT
// ============================================

export default {
  device,
  video,
  components,
};